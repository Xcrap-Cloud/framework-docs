HtmlParser √© uma classe que extende de `Parser` que implementa m√©todos de extra√ß√£o de dados para arquivos e conte√∫dos HTML. O que funciona por baixo dos panos √© o `node-html-parser`, que √© um parser de HTML muito r√°pido e leve, que permite a extra√ß√£o de dados de forma eficiente.

## üõ†Ô∏è Como Usar

Bem, existem algumas maneiras de usar este mecanismo de parsing, o mais recomendado √© usar o `HtmlParsingModel`, que √© um modelo declarativo que permite definir como os dados devem ser extra√≠dos de um HTML, veja um exemplo abaixo:

### Utilizando o `HtmlParsingModel`

```typescript
import { HtmlParsingModel, HtmlParser, extractInnerText, extractHref } from "@xcrap/parser"

const html = `
  <div>
    <h1>Authors</h1>
    <ul>
        <li>
            <span class="author-name">Marcuth</span>
            <span class="author-role">Developer</span>
            <a class="author-github" href="https://github.com/marcuth">GitHub</a>
        </li>
    </ul>
  </div>
`

const parsingModel = new HtmlParsingModel({
    authors: {
        query: "ul li",
        multiple: true,
        name: {
            query: ".author-name",
            extractor: extractInnerText
        },
        role: {
            query: ".author-role",
            extractor: extractInnerText
        },
        github: {
            query: ".author-github",
            extractor: extractHref
        }
    }
})

const parser = new HtmlParser(html)
const data = parser.extractFirst({ model: parsingModel })

console.log(data)
```

**Sa√≠da esperada**:

```js
{
  authors: [
        {
            name: "Marcuth",
            role: "Developer",
            github: "https://github.com/marcuth"
        }
    ]
}
```

Se preferir, voc√™ pode utilizar o `HtmlParsingModel` diretamente no construtor do `HtmlParser`, veja o exemplo abaixo:

```typescript
const parsingModel = parser.parse(html)
```

Fazendo isso, voc√™ deve obter o mesmo resultado, j√° que o `HtmlParser` faz apenas um wrapper desse m√©todo do `HtmlParsingModel`.

### Utilizando o `HtmlParser` diretamente

Como voc√™ recebeu um spolier do `HtmlParser` acima, voc√™ pode utilizar ele fornecendo um c√≥digo HTML em formato de string e a aprtir da√≠ ele ir√° fornecer m√©todos para que voc√™ consiga extrair dados.

```ts
import { HtmlParser } from "@xcrap/parser"

const html = "<html><head><title>T√≠tulo da P√°gina</title></head><body></body></html>"
const parser = new HtmlParser(html)
```

Mas bem, caso voc√™ precise carregar um arquivo HTML diretamente e queria evitar escrever c√≥digo para ler o arquivo, voc√™ pode usar o m√©todo `loadFile` do `HtmlParser`, veja o exemplo abaixo:

```ts
import { HtmlParser } from "@xcrap/parser"

;(async () => {
    const parser = await HtmlParser.loadFile("./caminho-para-arquivo-html.html", { encoding: "utf-8" }) // Retorna uma inst√¢ncia de HtmlParser
})();
```

Tendo instanciado o `HtmlParser`, voc√™ pode usar os m√©todos de extra√ß√£o de dados, como:

- `extractFirst`: Recebe um `model` (parsing model) e (opcionalmente) uma `query`, caso ele encontre o o elemento, ele ir√° extrair os dados conforme o modelo fornecido, caso n√£o encontre, lan√ßar√° um erro. 
- `extractMany`: Recebe um `model` (parsing model), uma `query` e (opcionalmente) um `limit`, caso ele encontre os elementos, ele ir√° extrair os dados conforme o modelo fornecido e retornar√° um array com os dados extra√≠dos.
- `parseFirst`: Recebe uma `query`, um `extractor` e (opcionalmente) um `default`, caso ele encontre o elemento, ele ir√° usar o extractor para extrair os dados e retornar√° o resultado. Se n√£o encontrar e existir um valor `default` definido, retornar√° o `default`, se n√£o, lan√ßar√° um erro.
- `parseMany`: Recebe uma `query`, um `extractor` e (opcionalmente) um `limit`, caso ele encontre os elementos, ele ir√° usar o extractor para extrair os dados e retornar√° um array com os resultados.
 
Veja um exemplo de como extrair o t√≠tulo e links de um HTML usando o `HtmlParser`:

```ts
import { HtmlParser, extract } from "@xcrap/parser"

;(async () => {
    const html = `<html><head><title>T√≠tulo da P√°gina</title></head><body><a href="https://example.com/1">Link 1</a><a href="https://example.com/2">Link 2</a></body></html>`
    const parser = new HtmlParser(html)

    // extract(key: string, isAttribute?: boolean) √© uma fun√ß√£o de extra√ß√£o gen√©rica, voc√™ pode usar algumas que j√° est√£o criadas e prontas para uso, importando-as do mesmo local :)
    const title = await parser.parseFirst({ query: "title", extractor: extract("innerText") })

    const links = await parser.parseMany({ query: "a", extractor: extract("href", true) })

    console.log(title) // "T√≠tulo da P√°gina"
    console.log(links) // ["https://example.com/1", "https://example.com/2"]
})();
````

